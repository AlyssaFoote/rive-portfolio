<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rive Input Debugger</title>
    <script src="https://unpkg.com/@rive-app/canvas@2.9.1"></script>
    <style>
      body {
        font-family: sans-serif;
        background: #000e5b;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        padding: 2rem;
      }
      canvas {
        background: #111;
        border: 2px solid #fff;
        border-radius: 12px;
      }
      button {
        margin: 4px;
        padding: 8px 12px;
        font-size: 1rem;
        border: none;
        border-radius: 8px;
        background: #fff;
        color: #000e5b;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h1>ğŸ¯ Rive Input Debugger</h1>
    <canvas id="riveCanvas" width="500" height="500"></canvas>
    <div id="inputControls">Loading inputs...</div>

    <script>
      const canvas = document.getElementById('riveCanvas');
      const inputControls = document.getElementById('inputControls');

      let inputs = [];

      const riveInstance = new rive.Rive({
        src: 'portfolio_game_dev.riv',
        canvas: canvas,
        artboard: 'catwhoknows',
        stateMachines: ['State Machine 1'],
        autoplay: true,
        onLoad: () => {
          console.log('âœ… Rive loaded');

          riveInstance.resizeDrawingSurfaceToCanvas();

          inputs = riveInstance.stateMachineInputs('State Machine 1');
          console.log('ğŸ” Found Inputs:', inputs);

          if (inputs.length === 0) {
            inputControls.textContent =
              'âŒ No inputs found in this state machine.';
            return;
          }

          inputControls.innerHTML = '<h3>ğŸ› Trigger Inputs:</h3>';

          inputs.forEach((input) => {
            const btn = document.createElement('button');
            btn.textContent = `${input.name} (${input.type})`;

            if (input.type === 'boolean') {
              btn.addEventListener('click', () => {
                input.value = !input.value;
                btn.textContent = `${input.name}: ${input.value}`;
              });
            } else if (input.type === 'trigger') {
              btn.addEventListener('click', () => {
                input.fire();
              });
            } else if (input.type === 'number') {
              btn.addEventListener('click', () => {
                input.value = (input.value + 1) % 5;
                btn.textContent = `${input.name}: ${input.value}`;
              });
            }

            inputControls.appendChild(btn);
          });
        },
      });
    </script>
  </body>
</html>
